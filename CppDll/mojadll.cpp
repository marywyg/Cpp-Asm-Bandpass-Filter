#include <cstdint>

extern "C" void ModifyBitsCpp(float* chunkPointer, size_t numElements) {

    float filterCoefficients[] = {
     -0.0000f,  0.0003f,  0.0008f,  0.0011f,  0.0008f,  0.0002f, -0.0003f, -0.0002f,
     0.0006f,  0.0015f,  0.0015f,  0.0004f, -0.0011f, -0.0018f, -0.0008f,  0.0011f,
     0.0021f,  0.0007f, -0.0027f, -0.0055f, -0.0053f, -0.0020f,  0.0012f,  0.0007f,
    -0.0046f, -0.0112f, -0.0138f, -0.0100f, -0.0029f,  0.0002f, -0.0053f, -0.0169f,
    -0.0258f, -0.0240f, -0.0121f, -0.0006f, -0.0017f, -0.0181f, -0.0385f, -0.0452f,
    -0.0294f, -0.0016f,  0.0136f, -0.0037f, -0.0483f, -0.0873f, -0.0786f, -0.0022f,
     0.1208f,  0.2344f,  0.2805f,  0.2344f,  0.1208f, -0.0022f, -0.0786f, -0.0873f,
    -0.0483f, -0.0037f,  0.0136f, -0.0016f, -0.0294f, -0.0452f, -0.0385f, -0.0181f,
    -0.0017f, -0.0006f, -0.0121f, -0.0240f, -0.0258f, -0.0169f, -0.0053f,  0.0002f,
    -0.0029f, -0.0100f, -0.0138f, -0.0112f, -0.0046f,  0.0007f,  0.0012f, -0.0020f,
    -0.0053f, -0.0055f, -0.0027f,  0.0007f,  0.0021f,  0.0011f, -0.0008f, -0.0018f,
    -0.0011f,  0.0004f,  0.0015f,  0.0015f,  0.0006f, -0.0002f, -0.0003f,  0.0002f,
     0.0008f,  0.0011f,  0.0008f,  0.0003f, -0.0000f
    };

    for (size_t i = 0; i < numElements; ++i) {
        float result = 0.0;
        for (size_t j = 0; j < 102; ++j) {
            if (i + j < numElements) {
                result += chunkPointer[i + j] * filterCoefficients[j];
            }
        }
        chunkPointer[i] = result;
    }
}